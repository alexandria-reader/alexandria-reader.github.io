<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.92.1">
<meta name=generator content="Relearn 2.9.2
">
<meta name=description content="Design notes from development of the Alexandria language learning app.">
<meta name=author content="Team Alexandria">
<title>3 Layers for the Back End :: Alexandria Case Study</title>
<link href=../../css/nucleus.css?1643710433 rel=stylesheet>
<link href=../../css/fontawesome-all.min.css?1643710433 rel=stylesheet>
<link href=../../css/featherlight.min.css?1643710433 rel=stylesheet>
<link href=../../css/perfect-scrollbar.min.css?1643710433 rel=stylesheet>
<link href=../../css/auto-complete.css?1643710433 rel=stylesheet>
<link href=../../css/theme.css?1643710433 rel=stylesheet>
<link href=../../css/theme-alexandria.css?1643710433 rel=stylesheet>
<link href=../../css/variant.css?1643710433 rel=stylesheet>
<link href=../../css/print.css?1643710433 rel=stylesheet media=print>
<script src=../../js/jquery.min.js?1643710433></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code.copy-to-clipboard-inline+span.copy-to-clipboard{display:none}:not(pre)>code.copy-to-clipboard-inline{border-bottom-right-radius:2px;border-top-right-radius:2px;border-right-width:1px}</style>
</head>
<body data-url=../../decisions/backend/>
<script>var index_url="../../index.json",root_url="../../",baseUri=root_url.replace(/\/$/,'')</script>
<nav id=sidebar>
<div id=header-wrapper>
<div id=header>
<a href=../../><img src=../../images/logo-light.png alt="Alexandria logo"></a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script src=../../js/lunr.min.js?1643710433></script>
<script src=../../js/auto-complete.js?1643710433></script>
<script src=../../js/search.js?1643710433></script>
</div>
<div id=homelinks>
<ul>
<li>
<a class=padding href=../../><i class="fas fa-home"></i> Home</a>
</li>
</ul>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/competitors/ title="Competitor Analysis" class=dd-item><a href=../../competitors/>Competitor Analysis</a><ul></ul></li>
<li data-nav-id=/decisions/ title="Technical Decisions" class="dd-item parent alwaysopen"><a href=../../decisions/>Technical Decisions</a><ul>
<li data-nav-id=/decisions/typescript/ title="Choosing TypeScript" class=dd-item><a href=../../decisions/typescript/>Choosing TypeScript</a></li>
<li data-nav-id=/decisions/sql/ title="SQL or NoSQL?" class=dd-item><a href=../../decisions/sql/>SQL or NoSQL?</a></li>
<li data-nav-id=/decisions/backend/ title="3 Layers for the Back End" class="dd-item active"><a href=../../decisions/backend/>3 Layers for the Back End</a></li>
<li data-nav-id=/decisions/react-recoil/ title="React and Recoil" class=dd-item><a href=../../decisions/react-recoil/>React and Recoil</a></li></ul></li>
<li data-nav-id=/database-api/ title="Database and API" class="dd-item alwaysopen"><a href=../../database-api/>Database and API</a><ul>
<li data-nav-id=/database-api/database/ title="Database Architecture" class=dd-item><a href=../../database-api/database/>Database Architecture</a></li>
<li data-nav-id=/database-api/api/ title="API Design" class=dd-item><a href=../../database-api/api/>API Design</a></li></ul></li>
<li data-nav-id=/challenges/ title="Challenges and Solutions" class="dd-item alwaysopen"><a href=../../challenges/>Challenges and Solutions</a><ul>
<li data-nav-id=/challenges/automated-tests/ title="Automating Tests" class=dd-item><a href=../../challenges/automated-tests/>Automating Tests</a></li>
<li data-nav-id=/challenges/text-parsing/ title="Text Parsing" class=dd-item><a href=../../challenges/text-parsing/>Text Parsing</a></li>
<li data-nav-id=/challenges/phrase-selection/ title="Phrase selection UI" class=dd-item><a href=../../challenges/phrase-selection/>Phrase selection UI</a></li></ul></li>
<li data-nav-id=/future/ title="MVP and Future Plans" class=dd-item><a href=../../future/>MVP and Future Plans</a><ul></ul></li>
<li data-nav-id=/references/ title=References class=dd-item><a href=../../references/>References</a><ul></ul></li>
</ul>
<div id=shortcuts>
<div class=nav-title>More</div>
<ul>
<li><a class=padding href=https://tryalexandria.com><i class="fas fa-fw fa-book"></i> Use the app, learn a language!</a></li>
<li><a class=padding href=https://github.com/alexandria-reader><i class="fab fa-fw fa-github"></i> Alexandria on GitHub</a></li>
</ul>
</div>
<div id=footer>
<p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p>
</div>
</div>
</nav>
<div id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div id=top-bar>
<div id=breadcrumbs>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
3 Layers for the Back End
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents></nav>
</div>
</div>
</div>
<div id=head-tags>
</div>
<main id=body-inner>
<h1>3 Layers for the Back End</h1>
<p>Alexandria is built based on the principles of service-oriented architecture
<sup><a href=../../references>[2]</a></sup>. In order to achieve readability, testability, and maintainability, we ensured a separation of concerns when it came to implementing the back end.</p>
<p>More specifically, we designed the back-end server in three layers.</p>
<table>
<thead>
<tr>
<th>Input layer</th>
<th>Logic Layer</th>
<th>Data Access Layer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Responsible for accepting HTTP requests, authentication, validating format, dispatch to correct logic function</td>
<td>Algorithm operates on the data in response to user input</td>
<td>Reading and writing in-memory representation of records to and from database, performing complex queries over data</td>
</tr>
</tbody>
</table>
<p>Based on this three-layer design including routes, services layer and data access layer, business logic is extracted away from the API.</p>
<p>When a request is made to a route, the corresponding service is called, which in turn calls the data access layer. The data access layer queries the database and returns the result to the service layer, which in turn parses the data and pass it back to the route. The route can be kept &ldquo;dumb&rdquo;, and simply relays the data it receives from the service back to the client.</p>
<p>The separation of duties is particularly relevant when it comes to the service layer and the routing layer. The service layer is framework agnostic, which encapsulates and abstracts business logic from the application. On the other hand, the routing layer is responsible for handling client requests and responding to them.</p>
<p>We capture the business logic and leverage the data access layer to interact with the database. Keeping concerns separate means that it does not handle <code>request</code> or <code>response</code> objects, does not respond to clients, provide anything related to the HTTP layer, nor does it interact directly with the database. Services are leveraged by passing the data needed instead of <code>response</code> or <code>response</code> objects.</p>
<p>In addition to keeping application logic out of the routes and data access layers, the three-layer approach also results in easier unit testing. Tests are designed to address each service function individually. Should we ever decide to change Alexandria&rsquo;s database implementation, most of the changes will be confined to the data access layer.</p>
<footer class=footline>
</footer>
</main>
</div>
<div id=navigation>
<a class="nav nav-prev" href=../../decisions/sql/ title="SQL or NoSQL?"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../decisions/react-recoil/ title="React and Recoil"><i class="fa fa-chevron-right"></i></a>
</div>
</div>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=../../js/clipboard.min.js?1643710433></script>
<script src=../../js/perfect-scrollbar.min.js?1643710433></script>
<script src=../../js/perfect-scrollbar.jquery.min.js?1643710433></script>
<script src=../../js/jquery.svg.pan.zoom.js?1643710433></script>
<script src=../../js/featherlight.min.js?1643710433></script>
<script src=../../js/modernizr.custom-3.6.0.js?1643710433></script>
<script src=../../js/mermaid.min.js?1643710433></script>
<script>typeof mermaid!='undefined'&&typeof mermaid.mermaidAPI!='undefined'&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script>
<script src=../../js/relearn.js?1643710433></script>
</body>
</html>